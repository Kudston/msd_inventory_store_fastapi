{"ast":null,"code":"var _jsxFileName = \"/home/kudston/projects/msd_dominioms_frontend/src/components/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { API_URLS } from '../config/apiConfig';\nimport InventoryStats from './InventoryStats';\nimport StockList from './StockList';\nimport RecentOrders from './RecentOrders';\nimport { Link } from 'react-router-dom';\nimport Button from './Button'; // Assuming you're using the Bootstrap Button component we created earlier\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [stocks, setStocks] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [stats, setStats] = useState({\n    totalItems: 0,\n    finishedStocks: 0\n  });\n  const {\n    accessToken\n  } = useAuth();\n  const stocksRef = useRef(null);\n  const ordersRef = useRef(null);\n  useEffect(() => {\n    if (accessToken) {\n      // Fetch stocks\n      fetch(API_URLS.STOCKS, {\n        headers: {\n          'Authorization': `Bearer ${accessToken}`\n        }\n      }).then(response => response.json()).then(data => {\n        data = data['products'];\n        setStocks(data);\n        const totalItems = data.reduce((sum, item) => sum + item.units, 0);\n        const finishedStocks = data.filter(item => item.units === 0).length;\n        setStats({\n          totalItems,\n          finishedStocks\n        });\n      });\n\n      // Fetch orders\n      fetch(API_URLS.RECENT_ORDERS, {\n        headers: {\n          'Authorization': `Bearer ${accessToken}`\n        }\n      }).then(response => response.json()).then(data => {\n        data = data['carts'];\n        setOrders(data);\n      });\n    }\n  }, [accessToken]);\n  const scroll = (ref, direction) => {\n    const scrollAmount = 200; // Adjust this value to change scroll distance\n    if (ref.current) {\n      ref.current.scrollTop += direction * scrollAmount;\n    }\n  };\n  if (!accessToken) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4\",\n      children: \"Please sign in to view the dashboard.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"DominionInventory Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InventoryStats, {\n      stats: stats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: '/cart-create',\n        className: \"btn btn-primary my-2 text-center col-8\",\n        children: \"Create New Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex mt-4 justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Current Stocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => scroll(stocksRef, -1),\n            variant: \"secondary\",\n            size: \"sm\",\n            children: \"Scroll Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => scroll(stocksRef, 1),\n            variant: \"secondary\",\n            size: \"sm\",\n            children: \"Scroll Down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: stocksRef,\n          style: {\n            maxHeight: '400px',\n            overflowY: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(StockList, {\n            stocks: stocks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Recent Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => scroll(ordersRef, -1),\n            variant: \"secondary\",\n            size: \"sm\",\n            children: \"Scroll Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => scroll(ordersRef, 1),\n            variant: \"secondary\",\n            size: \"sm\",\n            children: \"Scroll Down\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: ordersRef,\n          style: {\n            maxHeight: '400px',\n            overflowY: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(RecentOrders, {\n            orders: orders\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"gHU1A6/72bs+qs2JHo2JvUarqns=\", false, function () {\n  return [useAuth];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","API_URLS","InventoryStats","StockList","RecentOrders","Link","Button","jsxDEV","_jsxDEV","HomePage","_s","stocks","setStocks","orders","setOrders","stats","setStats","totalItems","finishedStocks","accessToken","stocksRef","ordersRef","fetch","STOCKS","headers","then","response","json","data","reduce","sum","item","units","filter","length","RECENT_ORDERS","scroll","ref","direction","scrollAmount","current","scrollTop","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","variant","size","style","maxHeight","overflowY","_c","$RefreshReg$"],"sources":["/home/kudston/projects/msd_dominioms_frontend/src/components/HomePage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { API_URLS } from '../config/apiConfig';\nimport InventoryStats from './InventoryStats';\nimport StockList from './StockList';\nimport RecentOrders from './RecentOrders';\nimport { Link } from 'react-router-dom';\nimport Button from './Button'; // Assuming you're using the Bootstrap Button component we created earlier\n\nfunction HomePage() {\n  const [stocks, setStocks] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [stats, setStats] = useState({ totalItems: 0, finishedStocks: 0 });\n  const { accessToken } = useAuth();\n\n  const stocksRef = useRef(null);\n  const ordersRef = useRef(null);\n\n  useEffect(() => {\n    if (accessToken) {\n      // Fetch stocks\n      fetch(API_URLS.STOCKS, {\n        headers: {\n          'Authorization': `Bearer ${accessToken}`\n        }\n      })\n        .then(response => response.json())\n        .then(data => {\n          data = data['products'];\n          setStocks(data);\n          const totalItems = data.reduce((sum, item) => sum + item.units, 0);\n          const finishedStocks = data.filter(item => item.units === 0).length;\n          setStats({ totalItems, finishedStocks });\n        });\n\n      // Fetch orders\n      fetch(API_URLS.RECENT_ORDERS, {\n        headers: {\n          'Authorization': `Bearer ${accessToken}`\n        }\n      })\n        .then(response => response.json())\n        .then(data => {\n          data = data['carts'];\n          setOrders(data);\n        });\n    }\n  }, [accessToken]);\n\n  const scroll = (ref, direction) => {\n    const scrollAmount = 200; // Adjust this value to change scroll distance\n    if (ref.current) {\n      ref.current.scrollTop += direction * scrollAmount;\n    }\n  };\n\n  if (!accessToken) {\n    return <div className=\"container mt-4\">Please sign in to view the dashboard.</div>;\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <h1>DominionInventory Dashboard</h1>\n      <InventoryStats stats={stats} />\n      <div className='d-flex justify-content-center'>\n        <Link to={'/cart-create'} className='btn btn-primary my-2 text-center col-8'>Create New Order</Link>\n      </div>\n      <div className=\"d-flex mt-4 justify-content-between\">\n        <div className=\"col-md-5\">\n          <h2>Current Stocks</h2>\n          <div className=\"d-flex justify-content-between mb-2\">\n            <Button onClick={() => scroll(stocksRef, -1)} variant=\"secondary\" size=\"sm\">Scroll Up</Button>\n            <Button onClick={() => scroll(stocksRef, 1)} variant=\"secondary\" size=\"sm\">Scroll Down</Button>\n          </div>\n          <div ref={stocksRef} style={{ maxHeight: '400px', overflowY: 'auto' }}>\n            <StockList stocks={stocks} />\n          </div>\n        </div>\n        <div className=\"col-md-5\">\n          <h2>Recent Orders</h2>\n          <div className=\"d-flex justify-content-between mb-2\">\n            <Button onClick={() => scroll(ordersRef, -1)} variant=\"secondary\" size=\"sm\">Scroll Up</Button>\n            <Button onClick={() => scroll(ordersRef, 1)} variant=\"secondary\" size=\"sm\">Scroll Down</Button>\n          </div>\n          <div ref={ordersRef} style={{ maxHeight: '400px', overflowY: 'auto' }}>\n            <RecentOrders orders={orders} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}